<!doctype html>
<html>
<head>
	<title>sndbx.be is not science</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="../../static/css/third-party/sanitize.css">
	<link rel="stylesheet" href="../../static/css/content_responsive.css">
	<link rel="stylesheet" href="../../static/css/solarized_dark.css">
	<link rel="stylesheet" href="../../static/css/third-party/font-awesome.css">
	<script src="../../static/js/third-party/jquery.min.js"></script>
	<script src="../../static/js/main.js"></script>

</head>

	<body>
		<div class="page">
				<header class="content head hlike">
					<nav  class="rigth">
						<ul class="semantic">
							<li class="h3like"  style="border-left: none;" ><a  class="active"  href="../../">index</a></li>
							<li class="h3like" ><a  href="../../about/">about</a></li>
						</ul>
					</nav>
				</header>
				<aside class="content bar">
				</aside>

			<main class="content">
	<aside class="meta hlike">
				<ul class="semantic">

				<li class="h2like">30.01.2013</li>

				<li class="h3like"><a href="../../projects/" title="category">projects</a></li>
				</ul>
					
	</aside><hgroup  class="toCenter" style="margin-bottom: 8rem;">
	<h1>Tissue Segmentation using Voronoi tesselation</h1>
	<span class="dim"><p>by Emiliano Izquierdo</p></span>
</hgroup>
<article>
		<blockquote><p>Tissue segmentation of single cells is a hard problem to solve by automatic procedures (i.e. watershed and level set methods), here I use semi-automatic segmentation using Delaunay triangulations of manually selected points corresponding to single cells which</p></blockquote>

	<h2 id="main-code">Main code</h2>
<div class="highlight"><pre><span></span><span class="c">%select the slice for the dapi and edge info</span>

<span class="n">sliceno</span><span class="p">=</span><span class="mi">18</span><span class="p">;</span>


<span class="c">%Reading the files for the image stacks</span>

<span class="c">%EDGE</span>
<span class="n">filename</span><span class="p">=</span><span class="s">&#39;ch2_02.tif&#39;</span><span class="p">;</span>
<span class="n">info</span><span class="p">=</span><span class="n">imfinfo</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
<span class="n">ims</span><span class="p">=</span><span class="n">double</span><span class="p">(</span><span class="n">parse_stack</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nb">numel</span><span class="p">(</span><span class="n">info</span><span class="p">)));</span>
<span class="n">h</span><span class="p">=</span><span class="o">-</span><span class="n">utilities</span><span class="p">.</span><span class="n">fspecial3</span><span class="p">(</span><span class="s">&#39;log&#39;</span><span class="p">,[</span><span class="mi">15</span> <span class="mi">15</span> <span class="mi">11</span><span class="p">],[</span><span class="mf">1.3</span><span class="p">,</span><span class="mf">1.3</span><span class="p">,</span><span class="mf">1.1</span><span class="p">]);</span>
<span class="n">ims</span><span class="p">=</span><span class="n">imfilter</span><span class="p">(</span><span class="n">ims</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="s">&#39;replicate&#39;</span><span class="p">);</span>
<span class="n">im</span><span class="p">=</span><span class="n">ims</span><span class="p">(:,:,</span><span class="n">sliceno</span><span class="p">);</span>
<span class="n">im</span><span class="p">=</span><span class="n">im</span><span class="o">/</span><span class="n">max</span><span class="p">(</span><span class="n">im</span><span class="p">(:));</span>

<span class="c">%DAPI</span>
<span class="n">filename</span><span class="p">=</span><span class="s">&#39;ch3_02.tif&#39;</span><span class="p">;</span>
<span class="n">info</span><span class="p">=</span><span class="n">imfinfo</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
<span class="n">ims</span><span class="p">=</span><span class="n">double</span><span class="p">(</span><span class="n">parse_stack</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="n">sliceno</span><span class="p">,</span><span class="n">sliceno</span><span class="p">));</span>
<span class="n">ims</span><span class="p">=</span><span class="n">ims</span><span class="o">/</span><span class="n">max</span><span class="p">(</span><span class="n">ims</span><span class="p">(:));</span>


<span class="c">%DOTS</span>
<span class="n">filename</span><span class="p">=</span><span class="s">&#39;ch1_02.tif&#39;</span><span class="p">;</span>
<span class="n">info</span><span class="p">=</span><span class="n">imfinfo</span><span class="p">(</span><span class="n">filename</span><span class="p">);</span>
<span class="n">ims2</span><span class="p">=</span><span class="n">double</span><span class="p">(</span><span class="n">parse_stack</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="nb">numel</span><span class="p">(</span><span class="n">info</span><span class="p">)));</span>
<span class="n">ims2</span><span class="p">=</span><span class="n">imfilter</span><span class="p">(</span><span class="n">ims2</span><span class="p">,</span><span class="n">h</span><span class="p">,</span><span class="s">&#39;replicate&#39;</span><span class="p">);</span>
<span class="n">ims2</span><span class="p">=</span><span class="n">zproject</span><span class="p">(</span><span class="n">ims2</span><span class="p">);</span>
<span class="n">ims2</span><span class="p">=</span><span class="n">ims2</span><span class="o">/</span><span class="n">max</span><span class="p">(</span><span class="n">ims2</span><span class="p">(:));</span>
</pre></div>


<h2 id="viewing-the-image-overlay">Viewing the image overlay</h2>
<div class="highlight"><pre><span></span><span class="n">m</span><span class="p">=</span><span class="nb">zeros</span><span class="p">(</span><span class="nb">size</span><span class="p">(</span><span class="n">ims</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="nb">size</span><span class="p">(</span><span class="n">ims</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="mi">3</span><span class="p">);</span>
<span class="n">m</span><span class="p">(:,:,</span><span class="mi">2</span><span class="p">)=</span><span class="n">im</span><span class="p">;</span>
<span class="n">m</span><span class="p">(:,:,</span><span class="mi">3</span><span class="p">)=</span><span class="n">ims</span><span class="p">;</span>
<span class="n">m</span><span class="p">(:,:,</span><span class="mi">1</span><span class="p">)=</span><span class="n">ims2</span><span class="p">;</span>

<span class="n">h</span><span class="p">=</span><span class="n">utilities</span><span class="p">.</span><span class="n">im</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
</pre></div>

	</article>

			</main>
			
	<aside class="content hlike"> 
				<ul class="semantic center">
					<li style="display: inline-block;"><a href="../../tag/matlab.html" title="tag">#matlab</a></li>
					<li style="display: inline-block;"><a href="../../tag/image-processing.html" title="tag">#image processing</a></li>
					<li style="display: inline-block;"><a href="../../tag/hd-dna-fish.html" title="tag">#hd dna-fish</a></li>
					<li style="display: inline-block;"><a href="../../tag/master.html" title="tag">#master</a></li>
					<li style="display: inline-block;"><a href="../../tag/research.html" title="tag">#research</a></li>
					<li style="display: inline-block;"><a href="../../tag/plotting.html" title="tag">#plotting</a></li>
					<li style="display: inline-block;"><a href="../../tag/graphs.html" title="tag">#graphs</a></li>
				</ul>
	</aside>
			


		</div>
		

		<footer  class="content footer center hlike">
			<p>sndbx.be &#169; <a href="#" title="Interested in learning more about this site?">2016</a> Emiliano Izquierdo <br> Powered by <a href="http://getpelican.com/" title="Pelican">Pelican</a>
		</footer>
	</body>
</html>