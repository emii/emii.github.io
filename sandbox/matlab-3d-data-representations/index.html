<!doctype html>
<html>
<head>
	<title>sndbx.be is not science</title>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<link rel="stylesheet" href="../../static/css/third-party/sanitize.css">
	<link rel="stylesheet" href="../../static/css/content_responsive.css">
	<link rel="stylesheet" href="../../static/css/solarized_dark.css">
	<link rel="stylesheet" href="../../static/css/third-party/font-awesome.css">
	<script src="../../static/js/third-party/jquery.min.js"></script>
	<script src="../../static/js/main.js"></script>

</head>

	<body>
		<div class="page">
				<header class="content head hlike">
					<nav  class="rigth">
						<ul class="semantic">
							<li class="h3like"  style="border-left: none;" ><a  class="active"  href="../../">index</a></li>
							<li class="h3like" ><a  href="../../about/">about</a></li>
						</ul>
					</nav>
				</header>
				<aside class="content bar">
				</aside>

			<main class="content">
	<aside class="meta hlike">
				<ul class="semantic">

				<li class="h2like">30.01.2013</li>

				<li class="h3like"><a href="../../sandbox/" title="category">sandbox</a></li>
				</ul>
					
	</aside><hgroup  class="toCenter" style="margin-bottom: 8rem;">
	<h1>MATLAB 3D data representations</h1>
	<span class="dim"><p>by Emiliano Izquierdo</p></span>
</hgroup>
<article>

	<h2 id="show-an-image-in-a-matlab-3d-surface-plot-with-a-separate-colormap">Show an image in a MATLAB 3D surface plot with a separate colormap</h2>
<p>I found <a href="(http://www.peteryu.ca/tutorials/matlab/image_in_3d_surface_plot_with_multiple_colormaps)">this</a> on the web when trying to find a way for plotting an image beneath a surf plot.</p>
<p>It is basically the following:</p>
<div class="highlight"><pre><span></span><span class="c">% the data that you want to plot as a 3D surface.</span>
<span class="p">[</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">]</span> <span class="p">=</span> <span class="n">peaks</span><span class="p">;</span>

<span class="c">% get the corners of the domain in which the data occurs.</span>
<span class="n">min_x</span> <span class="p">=</span> <span class="n">min</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="n">min_y</span> <span class="p">=</span> <span class="n">min</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">y</span><span class="p">));</span>
<span class="n">max_x</span> <span class="p">=</span> <span class="n">max</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">x</span><span class="p">));</span>
<span class="n">max_y</span> <span class="p">=</span> <span class="n">max</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">y</span><span class="p">));</span>

<span class="c">% the image data you want to show as a plane.</span>
<span class="n">planeimg</span> <span class="p">=</span> <span class="nb">abs</span><span class="p">(</span><span class="n">z</span><span class="p">);</span>

<span class="c">% scale image between [0, 255] in order to use a custom color map for it.</span>
<span class="n">minplaneimg</span> <span class="p">=</span> <span class="n">min</span><span class="p">(</span><span class="n">min</span><span class="p">(</span><span class="n">planeimg</span><span class="p">));</span> <span class="c">% find the minimum</span>
<span class="n">scaledimg</span> <span class="p">=</span> <span class="p">(</span><span class="nb">floor</span><span class="p">(((</span><span class="n">planeimg</span> <span class="o">-</span> <span class="n">minplaneimg</span><span class="p">)</span> <span class="o">./</span> <span class="c">...</span>
    <span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">max</span><span class="p">(</span><span class="n">planeimg</span><span class="p">))</span> <span class="o">-</span> <span class="n">minplaneimg</span><span class="p">))</span> <span class="o">*</span> <span class="mi">255</span><span class="p">));</span> <span class="c">% perform scaling</span>

<span class="c">% convert the image to a true color image with the jet colormap.</span>
<span class="n">colorimg</span> <span class="p">=</span> <span class="n">ind2rgb</span><span class="p">(</span><span class="n">scaledimg</span><span class="p">,</span><span class="n">jet</span><span class="p">(</span><span class="mi">256</span><span class="p">));</span>

<span class="c">% set hold on so we can show multiple plots / surfs in the figure.</span>
<span class="n">figure</span><span class="p">;</span> <span class="n">hold</span> <span class="n">on</span><span class="p">;</span>

<span class="c">% do a normal surface plot.</span>
<span class="n">surf</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">,</span><span class="s">&#39;edgecolor&#39;</span><span class="p">,</span><span class="s">&#39;none&#39;</span><span class="p">);</span>

<span class="c">% set a colormap for the surface</span>
<span class="n">colormap</span><span class="p">(</span><span class="n">gray</span><span class="p">);</span>

<span class="c">% desired z position of the image plane.</span>
<span class="n">imgzposition</span> <span class="p">=</span> <span class="o">-</span><span class="mi">10</span><span class="p">;</span>

<span class="c">% plot the image plane using surf.</span>
<span class="n">surf</span><span class="p">([</span><span class="n">min_x</span> <span class="n">max_x</span><span class="p">],[</span><span class="n">min_y</span> <span class="n">max_y</span><span class="p">],</span><span class="nb">repmat</span><span class="p">(</span><span class="n">imgzposition</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span> <span class="mi">2</span><span class="p">]),</span><span class="c">...</span>
    <span class="n">colorimg</span><span class="p">,</span><span class="s">&#39;facecolor&#39;</span><span class="p">,</span><span class="s">&#39;texture&#39;</span><span class="p">)</span>

<span class="c">% set the view.</span>
<span class="n">view</span><span class="p">(</span><span class="mi">45</span><span class="p">,</span><span class="mi">30</span><span class="p">);</span>

<span class="c">% label the axes</span>
<span class="n">xlabel</span><span class="p">(</span><span class="s">&#39;x&#39;</span><span class="p">);</span>
<span class="n">ylabel</span><span class="p">(</span><span class="s">&#39;y&#39;</span><span class="p">);</span>
<span class="n">zlabel</span><span class="p">(</span><span class="s">&#39;z&#39;</span><span class="p">);</span>
</pre></div>


<h2 id="representing-data-as-a-surface">Representing data as a surface</h2>
<p>Once you have the surface/mesh/stem3 plot, you might want to pimp it up a bit, <a href="http://www.mathworks.nl/help/matlab/visualize/representing-a-matrix-as-a-surface.html">here</a> you find how you can do it</p>
<h2 id="this-is-also-useful">This is also useful</h2>
<p><a href="http://www.mathworks.nl/help/matlab/math/interpolating-gridded-data.html">here</a></p>

	</article>

			</main>
			
	<aside class="content hlike"> 
				<ul class="semantic center">
					<li style="display: inline-block;"><a href="../../tag/data.html" title="tag">#data</a></li>
					<li style="display: inline-block;"><a href="../../tag/matlab.html" title="tag">#MATLAB</a></li>
					<li style="display: inline-block;"><a href="../../tag/plotting.html" title="tag">#plotting</a></li>
					<li style="display: inline-block;"><a href="../../tag/3d.html" title="tag">#3D</a></li>
					<li style="display: inline-block;"><a href="../../tag/research.html" title="tag">#research</a></li>
					<li style="display: inline-block;"><a href="../../tag/scripts.html" title="tag">#scripts</a></li>
					<li style="display: inline-block;"><a href="../../tag/snnipets.html" title="tag">#snnipets</a></li>
					<li style="display: inline-block;"><a href="../../tag/gist.html" title="tag">#gist</a></li>
				</ul>
	</aside>
			


		</div>
		

		<footer  class="content footer center hlike">
			<p>sndbx.be &#169; <a href="#" title="Interested in learning more about this site?">2016</a> Emiliano Izquierdo <br> Powered by <a href="http://getpelican.com/" title="Pelican">Pelican</a>
		</footer>
	</body>
</html>